# 模块



## 1.什么是模块

​	模块(Module)是一个扩展名为.py的Python文件，这个文件中包含许多功能函数或类，多个模块可以通过包组织。通过在当前.py文件中导入其他.py文件，可以使用被导入文件中定义的内容，如类、变量、函数等。

​	Python中的模块可以分为三类，分别是内置模块、第三方模块和自定义模块：

- **内置模块：**Python内置标准库中的木块，也是Python的官方模块，可以直接导入程序供开发人员使用；
- **第三方模块：**由非官方制作发布、供大众使用的Python模块，在使用之前需要开发人员先自行安装；
- **自定义模块：**开发人员在程序编写过程中自行编写的、存放功能性代码的.py文件。



## 2.模块的导入方式

​	Python的模块导入分为import和from...import...导入两种：



### 2.1.import导入

​	使用import导入模块的格式如下：

```python
import 模块1,模块2....
```

​	import支持一次导入多个模块，每个模块用逗号隔开：

```python
import time			#  导入时间一个模块
import random, pygame				#  导入两个模块
```

​	导入模块后便可以使用"."来使用模块中的函数或类，语法格式为：

```python
模块名.函数名()/类名
```

```python
time.sleep(1)
```

​	如果在开发过程中，需要导入一些名称较长的模块，可使用as为这些模块起别名，语法格式为：

```python
import 模块名 as 别名
```





### 2.2.from...import...导入

​	使用from...import...导入模块后，无需添加前缀，可以像使用当前程序中的内容一样使用模块中的内容，语法格式为：

```python
from 模块名 import 函数/类/变量
```

​	这种导入方式也支持一次导入多个函数、类或变量，多个函数、类或变量之间用逗号隔开。

```python
from time import sleep, time
```

​	当然也可以使用通配符来表示导入模块中的全部内容：

```python
from 模块名 import *
```

​	同时还可以支持为模块或模块中的函数起别名：

```python
from 模块名 import 函数名 as 别名
```

```python
from time import sleep as s1
s1(1)        #  s1为函数sleep()的别名
```





## 3.常见的标准模块

​	Python中内置了许多标准模块，例如sys，os，random和time模块等。



### 3.1.sys模块

​	sys模块中提供了一系列与Python解释器交互的函数和变量，用于操控Python的运行环境。常见的变量和函数如下所示：

| 变量/函数    | 说明                                                         |
| ------------ | ------------------------------------------------------------ |
| sys.argv     | 获取命令行参数列表，第一个元素为程序自身的路径               |
| sys.version  | 获取Python解释器的版本信息                                   |
| sys.path     | 获取模块的搜索路径，该变量的初始值为环境变量PYTHONPATH的值   |
| sys.platfrom | 返回操作系统平台的名称                                       |
| sys.exit()   | 退出当前程序，可为该函数传递参数，以设置返回值或退出信息，正常退出的返回值为0 |

```python
import sys

print(sys.argv)  # ['D:/笔记/Python/SC2003/project/2048/demo01.py']
print(sys.version)  # 3.10.1
print(sys.path)  
print(sys.platform)  # win32
sys.exit("退出程序")
print(sys.argv)
```



### 3.2.os模块

​	os模块中提供了访问操作系统服务的功能，该模块常用函数如下所示：

| 函数                  | 说明                                         |
| --------------------- | -------------------------------------------- |
| os.getcwd()           | 获取当前工作路径，即当前Python脚本所在的路径 |
| os.chdir()            | 改变当前脚本的工作路径                       |
| os.remove()           | 删除指定文件                                 |
| os.exit()             | 终止Python程序                               |
| os.path.abspath(path) | 返回path规范化的绝对路径                     |
| os.path.split(path)   | 将path分隔为（目录，文件名）的二元组并返回   |

​	os中的exit()与sys模块的exit()有所不同，执行os模块中的exit()后，程序会立即结束，之后的代码不会再执行；而执行sys模块中的exit()函数会引发一个SystemExit异常，如没有捕获该异常，后面的代码不会再执行，若捕获了则后续的代码仍然会执行。

```python
import os

print(os.getcwd())  # D:\笔记\Python\SC2003\project\2048
print("执行exit()之前。。。")
try:
    os.exit(0)
    print("执行exit()之后。。。")
except:
    print("结束程序")
```



### 3.3.random模块

​	random模块为随机模块，该模块中定义了多个可产生各种随机数的函数。random模块中的常用函数如下所示：

| 函数                 | 说明                        |
| -------------------- | --------------------------- |
| random.random()      | 返回(0,1]之间的随机实数     |
| random.randint(x, y) | 返回[x, y]之间的随机整数    |
| random.choice(seq)   | 从序列seq中随机返回一个元素 |
| random.uniform(x, y) | 返回[x,y]之间随机的浮点数   |

```python
import random
print(random.randint(1, 100))
print(random.uniform(1, 100))
name = ["李刚", "李渊", "李世民", "李隆基", "李自成"]
print(random.choice(name))
```



### 3.4.time模块

​	time模块提供了一系列处理时间的函数，常用的函数说下所示：

| 函数                           | 说明                                                 |
| ------------------------------ | ---------------------------------------------------- |
| time.time()                    | 获取当前时间，单位为秒                               |
| time.sleep(secs)               | 进入休眠状态，时长由参数secs指定，单位为秒           |
| time.strptime(string[,format]) | 将一个时间格式（如2022-03-01）的字符串解析为时间元组 |
| time.localtime(secs)           | 以struct_time类型输出本地时间                        |
| time.asctime([tuple])          | 获取时间字符串，或将时间元组转换为字符串             |
| time.mktime(tuple)             | 将时间元组转换成秒数                                 |
| strftime(format[,tuple])       | 返回字符串表示的当地时间，格式由format决定           |

```python
import time

before = time.time()
for i in range(10000):
    print("Hello World!")
after = time.time()
interval = after - before
print(f"输出10遍Hello World的运行时间为{interval}秒")
```

```python
import random
import time

list1 = ["李刚", "李渊", "李世民", "李隆基", "李自成"]
list2 = []
for i in range(len(list1)):
    people = random.choice(list1)
    list1.remove(people)
    list2.append(people)
    time.sleep(2)  # 每隔2秒执行一次
    print(f"此时list2的成员有{list2}")
```

```python
str_dt = "2022-03-01 12:59:59"
# 转换成数组
time_struct = time.strptime(str_dt, '%Y-%m-%d %H:%M:%S')
# 转换成时间戳
timestamp = time.mktime(time_struct)
print(time_struct)
print(timestamp)
```



## 4.自定义模块

​	一般在进行程序开发时，不会将所有的代码放到一个文件中，而是将耦合度较低的多个功能写入不同的文件中，制作成模块，并在其他文件中以导入模块的方式使用自定义模块中的内容。

​	Python中的每个文件都可以作为一个模块存在，文件名即为模块名。